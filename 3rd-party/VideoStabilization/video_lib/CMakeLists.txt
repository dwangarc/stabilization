cmake_minimum_required(VERSION 2.6)

FIND_PACKAGE(VideoLib REQUIRED)

ADD_DEFINITIONS(${VIDEO_LIB_DEFINITIONS})
INCLUDE_DIRECTORIES(${VIDEO_LIB_INCLUDE_DIR})

FILE( GLOB_RECURSE SOURCES "src/*.cpp" )

SET(TARGET_NAME ${VIDEO_LIB_LIBRARY})
ADD_LIBRARY(${TARGET_NAME} SHARED ${SOURCES})
SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES COMPILE_FLAGS -fPIC)

TARGET_LINK_LIBRARIES(${TARGET_NAME} ${VIDEO_LIB_LIBRARIES})
INSTALL(TARGETS ${TARGET_NAME} DESTINATION ${BINARY_DIR})